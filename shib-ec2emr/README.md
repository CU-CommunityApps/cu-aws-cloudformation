# shib-ec2emr

This directory contains several CloudFormation templates.

## ec2emr-iam-resources.yaml

This CloudFormation template creates:
- IAM policies for nearly full access to EC2 and and EMR services
- IAM policy for self-management of password, MFA, and access keys
- IAM role that grants access via Cornell SSO
- IAM group that grants that access to IAM users

## Creating IAM users in the AWS Console - OUTLINE

(Based on https://docs.aws.amazon.com/IAM/latest/UserGuide/id_users_create.html.)

1. Sign into the console: https://console.aws.amazon.com/iam/
1. Users -> Add User
1. Add email address of target user as the sign-in name.
1. Add additional users, if required
1. Select AWS Management Console access
1. Select autogenerated password
1. Require password Reset
1. Next: permissions
1. Add user to Group
  1. select ec2emr-users
1. Skip permissions boundary
1. Next: Review
1. download CSV with credentials
1. Securely distribute user names and password to users.
  - DO NOT email passwords

## Instructions for new IAM users to configure their Account

(Starts with getting their iam sign-in name and password from account admin.)

1. Login at CUSTOM URL
1. Password change (forced)
1. set MFA
1. Logout
1. Login with MFA

